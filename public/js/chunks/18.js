(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{OrRN:function(e,t,s){"use strict";s.r(t);var a=s("hAWA"),r=s("biP3"),i=s("FoS3"),l=s("jl8+"),o=s.n(l),n=s("FQHZ"),c=s.n(n),p=(s("TtPJ"),s("V8i/"),s("5gfu"),s("LPyF")),u=s.n(p),f=c()(u.a),m={components:{AppLayout:a.a,BackTo:r.a,FilePond:f,AdminComponentDiv:i.a,MultiSelect:o.a},data:function(){return{values:this.$page.categories,form:this.$inertia.form({images:[],gallery_category:""},{bag:"default",resetOnSuccess:!0})}},methods:{create:function(){this.form.post(this.route("galleries.store"))},processFiles:function(){this.form.images=this.$refs.pond.getFiles().map((function(e){return{image:JSON.parse(e.serverId).filename}}))},processFile:function(){this.form.images.push({image:JSON.parse(this.$refs.pond.getFile().serverId).filename})},addTag:function(e){e={title:e},this.values.push(e),this.form.gallery_category=e},selecting:function(e,t){this.form.gallery_category=e.title}}},g=s("KHd+"),d=Object(g.a)(m,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("app-layout",[s("div",{staticClass:"container mx-auto py-16"},[s("div",{staticClass:"mb-5"},[s("back-to",{attrs:{href:e.route("galleries.index"),title:"Назад"}})],1),e._v(" "),s("admin-component-div",[s("form",{staticClass:"space-y-6 w-3/12 px-4 py-7 conform",on:{submit:function(t){return t.preventDefault(),e.create(t)}}},[s("multi-select",{attrs:{"tag-placeholder":"Добавить новую категорию картинок",placeholder:"Поиск категорий картинок",options:e.values,multiple:!1,taggable:!0,label:"title",value:"title"},on:{tag:e.addTag,select:e.selecting},model:{value:e.form.gallery_category,callback:function(t){e.$set(e.form,"gallery_category",t)},expression:"form.gallery_category"}}),e._v(" "),s("div",[s("h2",[e._v("Можно выбрать несколько картинок")]),e._v(" "),s("file-pond",{ref:"pond",attrs:{name:"test","allow-multiple":"true","label-idle":"Drop files here...",server:e.route("images.post-image",{dir:"galleries",prefix:"gallery"}).url()},on:{processfiles:e.processFiles,processfile:e.processFile}}),e._v(" "),e.form.error("image")?s("p",{staticClass:"text-xs px-1 -mt-4 text-red-500"},[e._v("\n                        "+e._s(e.form.error("image"))+"\n                    ")]):e._e()],1),e._v(" "),s("vs-button",{attrs:{gradient:"",block:"",success:""}},[e._v("\n                    Создать")])],1)])],1)])}),[],!1,null,"648049fb",null);t.default=d.exports}}]);